(function(t){function e(e){for(var n,r,a=e[0],h=e[1],c=e[2],u=0,l=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[n]=h[n]);d&&d(e);while(l.length)l.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var h=i[a];0!==o[h]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},o={app:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/snake-game/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=h;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0a7e":function(t,e,i){"use strict";i("9412")},"32b9":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23");function o(t,e,i,o,s,r){var a=Object(n["h"])("Game");return Object(n["e"])(),Object(n["b"])(a)}var s=function(t){return Object(n["g"])("data-v-0b4803d7"),t=t(),Object(n["f"])(),t},r={id:"map",ref:"map"},a={class:"time"},h=s((function(){return Object(n["d"])("h2",{class:"length",id:"length"},"3",-1)}));function c(t,e,i,o,s,c){return Object(n["e"])(),Object(n["c"])("div",r,[Object(n["d"])("h2",a,Object(n["i"])(c.translateTime()),1),h,Object(n["d"])("button",{class:"button restart-button",onClick:e[0]||(e[0]=function(){return c.restart&&c.restart.apply(c,arguments)})},"重新开始"),Object(n["d"])("button",{class:"button add-button",onClick:e[1]||(e[1]=function(){return c.addMore&&c.addMore.apply(c,arguments)})},"加多一条"),Object(n["d"])("button",{class:"button increase-button",onClick:e[2]||(e[2]=function(){return c.increaseSpeed&&c.increaseSpeed.apply(c,arguments)})},"最新加速"),Object(n["d"])("button",{class:"button decrease-button",onClick:e[3]||(e[3]=function(){return c.decreaseSpeed&&c.decreaseSpeed.apply(c,arguments)})},"最新减速")],512)}i("fb6a"),i("d81d"),i("99af");var d={snake:{right:"https://source.acexy.cn/view/X9ARlOw",left:"https://source.acexy.cn/view/X9ATBYw",up:"https://source.acexy.cn/view/X9AS-a1",down:"https://source.acexy.cn/view/X9ATDaU",body:"https://source.acexy.cn/view/X9ATJEY"},apple:"https://source.acexy.cn/view/X9ARoRw"},u=d;function l(t,e,i,n,o){this.x=t||0,this.y=e||0,this.width=i||30,this.height=n||30,this.img=o||u.apple,this.div=null}l.prototype.initFood=function(t){this.removeDiv();var e=document.createElement("div");this.div=e,e.style.width=this.width+"px",e.style.height=this.height+"px",e.style.background="url(".concat(this.img,") no-repeat center"),e.style.backgroundSize="".concat(this.width,"px ").concat(this.height,"px"),e.style.position="absolute",this.x=Math.floor(Math.random()*(t.offsetWidth/this.width))*this.width,this.y=Math.floor(Math.random()*(t.offsetHeight/this.height))*this.height,e.style.left=this.x+"px",e.style.top=this.y+"px",t.appendChild(e)},l.prototype.removeDiv=function(){this.div&&this.div.parentNode.removeChild(this.div)};var p=l;i("d3b7"),i("159b");function y(t,e,i){this.width=t||30,this.height=e||30,this.elements=[],this.direction=i||"right",this.body=[{x:3,y:0,img:u.snake.right},{x:2,y:0,img:u.snake.body},{x:1,y:0,img:u.snake.body}]}y.prototype.initSnake=function(t){var e=this;this.body.forEach((function(i){var n=i,o=document.createElement("div");o.style.width=e.width+"px",o.style.height=e.height+"px",o.style.background="url(".concat(n.img,") no-repeat center"),o.style.backgroundSize="".concat(e.width,"px ").concat(e.height,"px"),o.style.position="absolute",o.style.left=n.x*e.width+"px",o.style.top=n.y*e.height+"px",t.appendChild(o),e.elements.push(o)}))},y.prototype.move=function(t,e){this.removeDiv();for(var i=this.body.length-1;i>0;i--)this.body[i].x=this.body[i-1].x,this.body[i].y=this.body[i-1].y;switch(this.body[0].img=u.snake["".concat(this.direction)],this.direction){case"right":this.body[0].x++;break;case"left":this.body[0].x--;break;case"up":this.body[0].y--;break;case"down":this.body[0].y++;break}return this.judgeFood(t,e)&&(this.addBody(),t.initFood(e)),!this.judgeSelf()&&!this.judgeWall(e)},y.prototype.judgeFood=function(t){return this.body[0].x*this.width==t.x&&this.body[0].y*this.height==t.y},y.prototype.judgeSelf=function(){for(var t=this.body[0],e=4;e<this.body.length;e++){var i=this.body[e];if(t.x==i.x&&t.y==i.y)return!0}return!1},y.prototype.addBody=function(){var t=this.body[this.body.length-1];this.body.push({x:t.x,y:t.y,img:t.img}),document.getElementById("length").innerHTML=this.body.length},y.prototype.judgeWall=function(t){return this.body[0].x*this.width>=t.offsetWidth?(console.log(this.body[0].x,t.offsetWidth,"right boom~"),!0):this.body[0].y*this.height>=t.offsetHeight?(console.log(this.body[0].y,t.offsetWidth," downboom~"),!0):this.body[0].x<0?(console.log(this.body[0].x,"left boom~"),!0):this.body[0].y<0&&(console.log(this.body[0].y,"up boom~"),!0)},y.prototype.removeDiv=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].parentNode.removeChild(this.elements[t]);this.elements.length=0};var f=y;function m(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.food=new p,this.snake=new f,this.map=t,this.timer=i,this.speed=200,this.keyBoardListener=function(t){switch(t.keyCode){case 39:case 68:"left"!=e.snake.direction&&(e.snake.direction="right",console.log("11"));break;case 37:case 65:"right"!=e.snake.direction&&(e.snake.direction="left");break;case 38:case 87:"down"!=e.snake.direction&&(e.snake.direction="up");break;case 40:case 83:"up"!=e.snake.direction&&(e.snake.direction="down")}}}m.prototype.init=function(){this.food.initFood(this.map),this.snake.initSnake(this.map),this.runSnake(this.food,this.map)},m.prototype.runSnake=function(t,e){var i=this;this.timeId=setInterval((function(){i.snake.move(t,e)?i.snake.initSnake(e):(clearInterval(i.timeId),clearInterval(i.timer),i.clearGame())}),this.speed)},m.prototype.bindKey=function(){document.addEventListener("keydown",this.keyBoardListener,!1)},m.prototype.changeSpeed=function(t){var e=this;this.speed+=20*t,this.speed<100||this.speed>400?this.speed-=20*t:(this.timeId&&clearInterval(this.timeId),this.timeId=setInterval((function(){e.snake.move(e.food,e.map)?e.snake.initSnake(e.map):(clearInterval(e.timeId),clearInterval(e.timer),e.clearGame())}),this.speed))},m.prototype.clearGame=function(){this.snake.removeDiv(),this.food.removeDiv(),document.removeEventListener("keydown",this.keyBoardListener,!1)};var b=m,g={name:"HelloWorld",data:function(){return{time:0,game:null}},mounted:function(){var t=this,e=setInterval((function(){t.time++}),1e3),i=document.getElementById("map");this.game=new b(i,e),this.game.init(),this.game.bindKey()},methods:{translateTime:function(){var t=parseInt(this.time/60),e=parseInt(this.time%60);return("0"+t).slice(-2)+":"+("0"+e).slice(-2)},increaseSpeed:function(){this.game.changeSpeed(-1)},decreaseSpeed:function(){this.game.changeSpeed(1)},restart:function(){var t=this;this.game.clearGame(),this.game=null,this.time=0;var e=setInterval((function(){t.time++}),1e3);this.game=new b(this.$refs.map,e),this.game.init(),this.game.bindKey()},addMore:function(){var t=this;this.game=null,this.time=0;var e=setInterval((function(){t.time++}),1e3);this.game=new b(this.$refs.map,e),this.game.init(),this.game.bindKey()}}},v=(i("0a7e"),i("6b0d")),k=i.n(v);const w=k()(g,[["render",c],["__scopeId","data-v-0b4803d7"]]);var x=w,j={name:"App",components:{Game:x}};i("65ae");const O=k()(j,[["render",o]]);var S=O;i("a2f0"),Object(n["a"])(S).mount("#app")},"65ae":function(t,e,i){"use strict";i("32b9")},9412:function(t,e,i){},a2f0:function(t,e,i){}});